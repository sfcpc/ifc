<!-- ko if: state === 'form' -->
<form>
    <div class="form-group">
        <h4>New Construction</h4>

        <label for="newRes">New Residential (GFA)</label>
        <input type="number" class="form-control" id="newRes" data-bind="value: fee.newRes, valueUpdate: 'keyup'">

        <label for="newNonRes">New Non-Residential (GFA)</label>
        <input type="number" class="form-control" id="newNonRes" data-bind="value: fee.newNonRes, valueUpdate: 'keyup'">

        <hr>

        <h4>Change of Use</h4>

        <label for="nonResToResEN">Non-Residential to Residential (GFA)</label>
        <input type="number" class="form-control" id="nonResToResEN" data-bind="value: fee.nonResToResEN, valueUpdate: 'keyup'">

        <label for="pdrToResEN">PDR to Residential (GFA)</label>
        <input type="number" class="form-control" id="pdrToResEN" data-bind="value: fee.pdrToResEN, valueUpdate: 'keyup'">

        <label for="pdrToNonResEN">PDR to Non-Residential (GFA)</label>
        <input type="number" class="form-control" id="pdrToNonResEN" data-bind="value: fee.pdrToNonResEN, valueUpdate: 'keyup'">

        <hr>
        <h4>Replacement of Use</h4>
        <label for="nonResToResReplacemet">Non-Residential to Residential (GFA)</label>
        <input type="number" class="form-control" id="nonResToResReplacement" data-bind="value: fee.nonResToResReplacement, valueUpdate: 'keyup'">

        <label for="pdrToResReplacemet">PDR to Residential (GFA)</label>
        <input type="number" class="form-control" id="pdrToResReplacement" data-bind="value: fee.pdrToResReplacement, valueUpdate: 'keyup'">

        <label for="pdrToNonResReplacement">PDR to Non-Residential (GFA)</label>
        <input type="number" class="form-control" id="pdrToNonResReplacement" data-bind="value: fee.pdrToNonResReplacement, valueUpdate: 'keyup'">

        <hr>
        <label for="allAffordable">100% Affordable Housing Project</label>&nbsp;&nbsp;
        <input type="checkbox"  aria-hidden="true" id="allAffordable" data-bind="checked: fee.allAffordable, checkedUpdate: 'keyup'">


    </div>
</form>
<!-- /ko -->

<!-- ko if: state === 'report' && fee.triggered() -->
<!-- ko if: fee.tier() === null -->
<div class="fee-tier tier-not-found">
    Could not determine fee tier - contact SF Planning staff for fee calculation.
</div>
<!-- /ko -->

<!-- ko if: fee.tier() !== null -->
<div class="fee-tier">
    Fee Tier: <span class="tier-value" data-bind="text: fee.tier"></span>
</div>
<table class="table">
    <thead>
        <tr>
            <th>
                <h4>New Construction</h4>
            </th>
            <th>GFA</th>
            <th></th>
            <th>Fee per GFA</th>
            <th></th>
            <th>Assessed Fee</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th scope="row">Residential</th>
            <td>
                <span data-bind="numericText: fee.newRes"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.fees[fee.tier()].newRes"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.newRes() * fee.fees[fee.tier()].newRes"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Non-Residential</th>
            <td>
                <span data-bind="numericText: fee.newNonRes"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.fees[fee.tier()].newNonRes"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.newNonRes() * fee.fees[fee.tier()].newNonRes"></span>
            </td>
        </tr>
        <tr>
            <th>
                <h4>Change of Use (Always Tier 1)</h4>
            </th>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <th scope="row">Non-Residential to Residential</th>
            <td>
                <span data-bind="numericText: fee.nonResToResEN"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.fees['Tier 1'].nonResToRes"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.nonResToResEN() * fee.fees['Tier 1'].nonResToRes"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">PDR to Residential</th>
            <td>
                <span data-bind="numericText: fee.pdrToResEN"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.fees['Tier 1'].pdrToRes"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.pdrToResEN() * fee.fees['Tier 1'].pdrToRes"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">PDR to Non-Residential</th>
            <td>
                <span data-bind="numericText: fee.pdrToNonResEN"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.fees['Tier 1'].pdrToNonRes"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.pdrToNonResEN() * fee.fees['Tier 1'].pdrToNonRes"></span>
            </td>
        </tr>


        <tr>
            <th>
                <h4>Replacement of Use</h4>
            </th>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <th scope="row">Non-Residential to Residential</th>
            <td>
                <span data-bind="numericText: fee.nonResToResReplacement"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.fees[fee.tier()].nonResToRes"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.nonResToResReplacement() * fee.fees[fee.tier()].nonResToRes"></span>
            </td>
        </tr>



        <tr>
            <th scope="row">PDR to Residential</th>
            <td>
                <span data-bind="numericText: fee.pdrToResReplacement"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.fees[fee.tier()].pdrToRes"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.pdrToResReplacement() * fee.fees[fee.tier()].pdrToRes"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">PDR to Non-Residential</th>
            <td>
                <span data-bind="numericText: fee.pdrToNonResReplacement"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.fees[fee.tier()].pdrToNonRes"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.pdrToNonResReplacement() * fee.fees[fee.tier()].pdrToNonRes"></span>
            </td>
        </tr>

    </tbody>
</table>
<!-- /ko -->
<!-- /ko -->
